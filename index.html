<html>
  <textarea id="msg" cols="100" rows="10"></textarea>
  <input class="button" type="button" value="変換" onclick="conversion()">
  <p id="executemsg"></p>
<script>
      //ボタン押したときに関数を実行
    function conversion() {
      //msg6を定義
      let msg6
      //msg3を定義
      let msg3
      //msg4を定義
      let msg4 = ""
      //k(改行)を定義
      let k = "<br>"
      //入力したコマンド全文(msg)を取得して変数(zentai)に代入
      var zentai = document.getElementById('msg').value;
      //改行で分ける
      var msg2 = zentai.split('\n');
      console.log(msg2);
      for (let i = 0; i < msg2.length; i++) {
      msg3 = msg2[i].split(/\u0020|cute/);
      if (msg3[0] == "exe") {
      msg3[0] = "execute"
      } else {}
      console.log(msg3);
      
      if (msg3[3] == "~~~") {
      msg3.splice( 3 , 1 , "~");
      msg3.splice( 3 , 0 , "~");
      msg3.splice( 3 , 0 , "~");
      } else {
      if (msg3[3] == "^^^") {
      msg3.splice( 3 , 1 , "^");
      msg3.splice( 3 , 0 , "^");
      msg3.splice( 3 , 0 , "^");
      } else {
       if (msg3[4] == "^^") {
      msg3.splice( 4 , 1 , "^");
      msg3.splice( 4 , 0 , "^");
      } else {
       if (msg3[3] == "^^") {
      msg3.splice( 3 , 1 , "^");
      msg3.splice( 3 , 0 , "^");
      } else {
       if (msg3[3] == "~~") {
      msg3.splice( 3 , 1 , "~");
      msg3.splice( 3 , 0 , "~");
      } else {
       if (msg3[4] == "~~") {
      msg3.splice( 4 , 1 , "~");
      msg3.splice( 4 , 0 , "~");
      } else {
      if (msg3[3] == "~~~") {
      msg3.splice( 3 , 1 , "~");
      msg3.splice( 3 , 0 , "~");
      msg3.splice( 3 , 0 , "~");
      } else {
      if (msg3[3] == "^^^") {
      msg3.splice( 3 , 1 , "^");
      msg3.splice( 3 , 0 , "^");
      msg3.splice( 3 , 0 , "^");
      } else {
       if (msg3[4] == "^^") {
      msg3.splice( 4 , 1 , "^");
      msg3.splice( 4 , 0 , "^");
      } else {
       if (msg3[3] == "^^") {
      msg3.splice( 3 , 1 , "^");
      msg3.splice( 3 , 0 , "^");
      } else {
       if (msg3[3] == "~~") {
      msg3.splice( 3 , 1 , "~");
      msg3.splice( 3 , 0 , "~");
      } else {
       if (msg3[4] == "~~") {
      msg3.splice( 4 , 1 , "~");
      msg3.splice( 4 , 0 , "~");
      } else {
     
      }
      }
      }
      }
     
      }
      }
     
      }
      }
      }
      }
     
      }
      }
      if (msg3[1] == "") {
      msg3.splice( 1 , 1 , "as");
      } else {
      msg3.splice( 1 , 0 , "as");
      }
      if (msg3[7] == "detect") {
      if (msg3[8] == "~~~") {
      msg3.splice( 8 , 1 , "~");
      msg3.splice( 8 , 0 , "~");
      msg3.splice( 8 , 0 , "~");
      } else {
      if (msg3[8] == "^^^") {
      msg3.splice( 8 , 1 , "^");
      msg3.splice( 8 , 0 , "^");
      msg3.splice( 8 , 0 , "^");
      } else {
       if (msg3[9] == "^^") {
      msg3.splice( 9 , 1 , "^");
      msg3.splice( 9 , 0 , "^");
      } else {
       if (msg3[8] == "^^") {
      msg3.splice( 8 , 1 , "^");
      msg3.splice( 8 , 0 , "^");
      } else {
       if (msg3[8] == "~~") {
      msg3.splice( 8 , 1 , "~");
      msg3.splice( 8 , 0 , "~");
      } else {
       if (msg3[9] == "~~") {
      msg3.splice( 9 , 1 , "~");
      msg3.splice( 9 , 0 , "~");
      } else {
      }
      }
      }
      
      }
      }
      }
      msg3.splice( 3 , 0 , "at @s positioned");
      console.log(msg3);
      msg3.splice( 12 , 0 , "run");
      } else {
      console.log(msg3);
      msg3.splice( 3 , 0 , "at @s positioned");
      console.log(msg3);
      msg3.splice( 7 , 0 , "run");
      }
      console.log(msg3);
      msg3 += k
      msg4 += msg3
      console.log(msg4);
      }
      msg6 = msg4
      console.log(msg6);
      //msg6をexecutemsgに代入
      document.getElementById("executemsg").innerHTML = msg6;
    }
</script>
</script>
</html>
