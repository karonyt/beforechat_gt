<html>
  <textarea id="msg" cols="100" rows="10"></textarea>
  <input class="button" type="button" value="変換" onclick="conversion()">
  <p id="execute"></p>
<script>
    let msg3 =[];
      //ボタン押したことを検知して実行
    function conversion() {
      //グローバル変数定義
      let msg5
      //テキストエリアからzentaiに代入
      var zentai = document.getElementById('msg').value;
      
      zentai.split(/\n/).forEach(function(a){
      msg3 = a.split(/\b|cute/);
      if (msg3[0] == "exe") {
      msg3[0] = "execute "
      } else {}

      if (msg3[2] == "~~~") {
      msg3[2] = "~ ~ ~"
      } else {
      if (msg3[2] == "^^^") {
      msg3[2] = "^ ^ ^"
      } else {
       if (msg3[3] == "^^") {
      msg3[3] = " ^ ^"
      } else {
       if (msg3[2] == "^^") {
      msg3[2] = "^ ^ "
      } else {
       if (msg3[2] == "~~") {
      msg3[2] = "~ ~ "
      } else {
       if (msg3[3] == "~~") {
      msg3[3] = " ~ ~"
      } else {
     
      }
      }
      }
      }
     
      }
      }
      msg3.splice( 1 , 0 , " as " );
      msg3.splice( 3 , 0 , " at @s positioned " );
      msg3.splice( 7 , 0 , " run " );
      var msg4 = msg3.join( ' ' );
      if (typeof msg5 !== "object") msg5 = [];
      msg5.push(msg4);
        });
      var msg6 = msg5.join( '\n' );
      document.getElementById("execute").innerHTML = msg6;
    }
</script>
</script>
</html>
